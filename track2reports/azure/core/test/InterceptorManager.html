<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.3) on Wed Jul 31 20:21:32 UTC 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>InterceptorManager (Azure SDK for Java Reference Documentation)</title>
<meta name="date" content="2019-07-31">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="InterceptorManager (Azure SDK for Java Reference Documentation)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/InterceptorManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../com/azure/core/test/TestBase.html" title="class in com.azure.core.test"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/azure/core/test/InterceptorManager.html" target="_top">Frames</a></li>
<li><a href="InterceptorManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.azure.core.test</div>
<h2 title="Class InterceptorManager" class="title">Class InterceptorManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.azure.core.test.InterceptorManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.AutoCloseable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">InterceptorManager</span>
extends java.lang.Object
implements java.lang.AutoCloseable</pre>
<div class="block">A class that keeps track of network calls by either reading the data from an existing test session record or
 recording the network calls in memory. Test session records are saved or read from:
 "<i>session-records/<code>testName</code>.json</i>"

 <ul>
     <li>If the <code>testMode</code> is <a href="../../../../com/azure/core/test/TestMode.html#PLAYBACK"><code>TestMode.PLAYBACK</code></a>, the manager tries to find an existing test session
     record to read network calls from.</li>
     <li>If the <code>testMode</code> is <a href="../../../../com/azure/core/test/TestMode.html#RECORD"><code>TestMode.RECORD</code></a>, the manager creates a new test session record and saves
     all the network calls to it.</li>
 </ul>

 When the <a href="../../../../com/azure/core/test/InterceptorManager.html" title="class in com.azure.core.test"><code>InterceptorManager</code></a> is disposed, if the <code>testMode</code> is <a href="../../../../com/azure/core/test/TestMode.html#RECORD"><code>TestMode.RECORD</code></a>, the network
 calls that were recorded are persisted to: "<i>session-records/<code>testName</code>.json</i>"</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/azure/core/test/InterceptorManager.html#InterceptorManager-java.lang.String-java.util.Map-">InterceptorManager</a></span>(java.lang.String&nbsp;testName,
                  java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;textReplacementRules)</code>
<div class="block">Creates a new InterceptorManager that replays test session records.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/azure/core/test/InterceptorManager.html#InterceptorManager-java.lang.String-com.azure.core.test.TestMode-">InterceptorManager</a></span>(java.lang.String&nbsp;testName,
                  <a href="../../../../com/azure/core/test/TestMode.html" title="enum in com.azure.core.test">TestMode</a>&nbsp;testMode)</code>
<div class="block">Creates a new InterceptorManager that either replays test-session records or saves them.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/azure/core/test/InterceptorManager.html#addTextReplacementRule-java.lang.String-java.lang.String-">addTextReplacementRule</a></span>(java.lang.String&nbsp;regex,
                      java.lang.String&nbsp;replacement)</code>
<div class="block">Add text replacement rule (regex as key, the replacement text as value) into <a href="../../../../com/azure/core/test/InterceptorManager.html#textReplacementRules"><code>InterceptorManager.textReplacementRules</code></a></div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/azure/core/test/InterceptorManager.html#close--">close</a></span>()</code>
<div class="block">Disposes of resources used by this InterceptorManager.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../com/azure/core/http/HttpClient.html" title="interface in com.azure.core.http">HttpClient</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/azure/core/test/InterceptorManager.html#getPlaybackClient--">getPlaybackClient</a></span>()</code>
<div class="block">Gets a new HTTP client that plays back test session records managed by <a href="../../../../com/azure/core/test/InterceptorManager.html" title="class in com.azure.core.test"><code>InterceptorManager</code></a>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/azure/core/test/models/RecordedData.html" title="class in com.azure.core.test.models">RecordedData</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/azure/core/test/InterceptorManager.html#getRecordedData--">getRecordedData</a></span>()</code>
<div class="block">Gets the recorded data InterceptorManager is keeping track of.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../com/azure/core/http/policy/HttpPipelinePolicy.html" title="interface in com.azure.core.http.policy">HttpPipelinePolicy</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/azure/core/test/InterceptorManager.html#getRecordPolicy--">getRecordPolicy</a></span>()</code>
<div class="block">Gets a new HTTP pipeline policy that records network calls and its data is managed by <a href="../../../../com/azure/core/test/InterceptorManager.html" title="class in com.azure.core.test"><code>InterceptorManager</code></a>.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/azure/core/test/InterceptorManager.html#isPlaybackMode--">isPlaybackMode</a></span>()</code>
<div class="block">Gets whether this InterceptorManager is in playback mode.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="InterceptorManager-java.lang.String-com.azure.core.test.TestMode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>InterceptorManager</h4>
<pre>public&nbsp;InterceptorManager(java.lang.String&nbsp;testName,
                          <a href="../../../../com/azure/core/test/TestMode.html" title="enum in com.azure.core.test">TestMode</a>&nbsp;testMode)
                   throws java.io.IOException</pre>
<div class="block">Creates a new InterceptorManager that either replays test-session records or saves them.

 <ul>
     <li>If <code>testMode</code> is <a href="../../../../com/azure/core/test/TestMode.html#PLAYBACK"><code>TestMode.PLAYBACK</code></a>, the manager tries to find an existing test session
     record to read network calls from.</li>
     <li>If <code>testMode</code> is <a href="../../../../com/azure/core/test/TestMode.html#RECORD"><code>TestMode.RECORD</code></a>, the manager creates a new test session record and saves
     all the network calls to it.</li>
 </ul>

 The test session records are persisted in the path: "<i>session-records/<code>testName</code>.json</i>"</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>testName</code> - Name of the test session record.</dd>
<dd><code>testMode</code> - The <a href="../../../../com/azure/core/test/TestMode.html" title="enum in com.azure.core.test"><code>TestMode</code></a> for this interceptor.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If <code>testMode</code> is <a href="../../../../com/azure/core/test/TestMode.html#PLAYBACK"><code>TestMode.PLAYBACK</code></a> and an existing test session record could
 not be located or the data could not be deserialized into an instance of <a href="../../../../com/azure/core/test/models/RecordedData.html" title="class in com.azure.core.test.models"><code>RecordedData</code></a>.</dd>
<dd><code>java.lang.NullPointerException</code> - If <code>testName</code> is <code>null</code>.</dd>
</dl>
</li>
</ul>
<a name="InterceptorManager-java.lang.String-java.util.Map-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>InterceptorManager</h4>
<pre>public&nbsp;InterceptorManager(java.lang.String&nbsp;testName,
                          java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;textReplacementRules)
                   throws java.io.IOException</pre>
<div class="block">Creates a new InterceptorManager that replays test session records. It takes a set of
 <code>textReplacementRules</code>, that can be used by <a href="../../../../com/azure/core/test/http/PlaybackClient.html" title="class in com.azure.core.test.http"><code>PlaybackClient</code></a> to replace values in a
 <a href="../../../../com/azure/core/test/models/NetworkCallRecord.html#response--"><code>NetworkCallRecord.response()</code></a>.

 The test session records are read from: "<i>session-records/<code>testName</code>.json</i>"</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>testName</code> - Name of the test session record.</dd>
<dd><code>textReplacementRules</code> - A set of rules to replace text in <a href="../../../../com/azure/core/test/models/NetworkCallRecord.html#response--"><code>NetworkCallRecord.response()</code></a> when playing
 back network calls.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - An existing test session record could not be located or the data could not be deserialized
 into an instance of <a href="../../../../com/azure/core/test/models/RecordedData.html" title="class in com.azure.core.test.models"><code>RecordedData</code></a>.</dd>
<dd><code>java.lang.NullPointerException</code> - If <code>testName</code> or <code>textReplacementRules</code> is <code>null</code>.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="isPlaybackMode--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isPlaybackMode</h4>
<pre>public&nbsp;boolean&nbsp;isPlaybackMode()</pre>
<div class="block">Gets whether this InterceptorManager is in playback mode.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the InterceptorManager is in playback mode and false otherwise.</dd>
</dl>
</li>
</ul>
<a name="getRecordedData--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecordedData</h4>
<pre>public&nbsp;<a href="../../../../com/azure/core/test/models/RecordedData.html" title="class in com.azure.core.test.models">RecordedData</a>&nbsp;getRecordedData()</pre>
<div class="block">Gets the recorded data InterceptorManager is keeping track of.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The recorded data managed by InterceptorManager.</dd>
</dl>
</li>
</ul>
<a name="getRecordPolicy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecordPolicy</h4>
<pre>public&nbsp;<a href="../../../../com/azure/core/http/policy/HttpPipelinePolicy.html" title="interface in com.azure.core.http.policy">HttpPipelinePolicy</a>&nbsp;getRecordPolicy()</pre>
<div class="block">Gets a new HTTP pipeline policy that records network calls and its data is managed by <a href="../../../../com/azure/core/test/InterceptorManager.html" title="class in com.azure.core.test"><code>InterceptorManager</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>HttpPipelinePolicy to record network calls.</dd>
</dl>
</li>
</ul>
<a name="getPlaybackClient--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPlaybackClient</h4>
<pre>public&nbsp;<a href="../../../../com/azure/core/http/HttpClient.html" title="interface in com.azure.core.http">HttpClient</a>&nbsp;getPlaybackClient()</pre>
<div class="block">Gets a new HTTP client that plays back test session records managed by <a href="../../../../com/azure/core/test/InterceptorManager.html" title="class in com.azure.core.test"><code>InterceptorManager</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An HTTP client that plays back network calls from its recorded data.</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block">Disposes of resources used by this InterceptorManager.

 If <code>testMode</code> is <a href="../../../../com/azure/core/test/TestMode.html#RECORD"><code>TestMode.RECORD</code></a>, all the network calls are persisted to:
 "<i>session-records/<code>testName</code>.json</i>"</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.lang.AutoCloseable</code></dd>
</dl>
</li>
</ul>
<a name="addTextReplacementRule-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>addTextReplacementRule</h4>
<pre>public&nbsp;void&nbsp;addTextReplacementRule(java.lang.String&nbsp;regex,
                                   java.lang.String&nbsp;replacement)</pre>
<div class="block">Add text replacement rule (regex as key, the replacement text as value) into <a href="../../../../com/azure/core/test/InterceptorManager.html#textReplacementRules"><code>InterceptorManager.textReplacementRules</code></a></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>regex</code> - the pattern to locate the position of replacement</dd>
<dd><code>replacement</code> - the replacement text</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/InterceptorManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Visit the <a href="https://docs.microsoft.com/java/azure/">Azure for Java Developers</a>site               for more Java documentation, including quick starts, tutorials, and code samples.</div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../com/azure/core/test/TestBase.html" title="class in com.azure.core.test"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/azure/core/test/InterceptorManager.html" target="_top">Frames</a></li>
<li><a href="InterceptorManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2019 <a href="http://microsoft.com">Microsoft Corporation</a>. All rights reserved.</small></p>
</body>
</html>
