<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.3) on Thu Aug 08 23:23:11 UTC 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Poller (Azure SDK for Java Reference Documentation)</title>
<meta name="date" content="2019-08-08">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Poller (Azure SDK for Java Reference Documentation)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Poller.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/azure/core/util/polling/Poller.html" target="_top">Frames</a></li>
<li><a href="Poller.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.azure.core.util.polling</div>
<h2 title="Class Poller" class="title">Class Poller&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.azure.core.util.polling.Poller&lt;T&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Type of poll response value</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">Poller&lt;T&gt;</span>
extends java.lang.Object</pre>
<div class="block">This class offers API that simplifies the task of executing long-running operations against Azure service.
 The <a href="../../../../../com/azure/core/util/polling/Poller.html" title="class in com.azure.core.util.polling"><code>Poller</code></a> consist of poll operation, cancel operation if supported by Azure service and polling interval.
 <p>
 It provides the following functionality:

 <ul>
      <li>Querying the current state of long-running operations.</li>
      <li>Requesting an asynchronous notification for long-running operation's state.</li>
      <li>Cancelling the long-running operation if cancellation is supported by the service.</li>
      <li>Triggering a poll operation manually.</li>
      <li>Enable/Disable auto-polling.</li>
 </ul>

 <p><strong>Auto Polling</strong></p>
 Auto-polling is enabled by-default. It means that the <a href="../../../../../com/azure/core/util/polling/Poller.html" title="class in com.azure.core.util.polling"><code>Poller</code></a> starts polling as soon as its instance is created. The <a href="../../../../../com/azure/core/util/polling/Poller.html" title="class in com.azure.core.util.polling"><code>Poller</code></a> will transparently call the poll operation every polling cycle
 and track the state of the long-running operation. Azure services can return <a href="../../../../../com/azure/core/util/polling/PollResponse.html#getRetryAfter--"><code>PollResponse.getRetryAfter()</code></a> to override the <code>Poller.pollInterval</code> defined in the <a href="../../../../../com/azure/core/util/polling/Poller.html" title="class in com.azure.core.util.polling"><code>Poller</code></a>.
 The <a href="../../../../../com/azure/core/util/polling/Poller.html#getStatus--"><code>Poller.getStatus()</code></a> represents the status returned by the successful long-running operation at the time the last auto-polling or last manual polling, whichever happened most recently.

<p><strong>Disable Auto Polling</strong></p>
 For those scenarios which require manual control of the polling cycle, disable auto-poling by calling <code>setAutoPollingEnabled#false</code> and perform manual poll
 by invoking <a href="../../../../../com/azure/core/util/polling/Poller.html#poll--"><code>Poller.poll()</code></a> function. It will call poll operation once and update the <a href="../../../../../com/azure/core/util/polling/Poller.html" title="class in com.azure.core.util.polling"><code>Poller</code></a> with the latest status.
 <p>When auto-polling is disabled, the <a href="../../../../../com/azure/core/util/polling/Poller.html" title="class in com.azure.core.util.polling"><code>Poller</code></a> will not update its status or other information, unless manual polling is triggered by calling <a href="../../../../../com/azure/core/util/polling/Poller.html#poll--"><code>Poller.poll()</code></a> function.

 <p>The <a href="../../../../../com/azure/core/util/polling/Poller.html" title="class in com.azure.core.util.polling"><code>Poller</code></a> will stop polling when the long-running operation is complete or it is disabled. The polling is considered complete
 based on status defined in <a href="../../../../../com/azure/core/util/polling/PollResponse.OperationStatus.html" title="class in com.azure.core.util.polling"><code>PollResponse.OperationStatus</code></a>.

 <p><strong>Code Samples</strong></p>

 <p><strong>Instantiating and Subscribing to Poll Response</strong></p>
 <pre><code>Duration</code> pollInterval = <code>Duration</code>.ofMillis(100);
<em>// Assumption : Poll Operation will return a String type in our example.</em>
<code>Function</code>&lt;<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><code>PollResponse</code></a>&lt;<code>String</code>&gt;, <code>Mono</code>&lt;<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><code>PollResponse</code></a>&lt;<code>String</code>&gt;&gt;&gt; pollOperation =
    <b>new</b> <code>Function</code>&lt;<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><code>PollResponse</code></a>&lt;<code>String</code>&gt;, <code>Mono</code>&lt;<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><code>PollResponse</code></a>&lt;<code>String</code>&gt;&gt;&gt;() {
        <em>// Will return success after this time.</em>
        <code>LocalDateTime</code> timeToReturnFinalResponse
            = <code>LocalDateTime</code>.now().plus(<code>Duration</code>.ofMillis(800));

        &#064;<code>Override</code>
        <b>public</b> <code>Mono</code>&lt;<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><code>PollResponse</code></a>&lt;<code>String</code>&gt;&gt; apply(<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><code>PollResponse</code></a>&lt;<code>String</code>&gt; prePollResponse) {
            <b>if</b> (<code>LocalDateTime</code>.now().isBefore(timeToReturnFinalResponse)) {
                <code>System</code>.out.println(<em>"returning intermediate response "</em> + inProgressResp.getValue());
                <b>return</b> <code>Mono</code>.just(inProgressResp);
            } <b>else</b> {
                <code>System</code>.out.println(<em>"returning final response "</em> + finalPollResponse.getValue());
                <b>return</b> <code>Mono</code>.just(finalPollResponse);
            }
        }
    };

<em>//Create poller instance</em>
<a href="../../../../../com/azure/core/util/polling/Poller.html" title="class in com.azure.core.util.polling"><code>Poller</code></a>&lt;<code>String</code>&gt; myPoller = <b>new</b> <a href="../../../../../com/azure/core/util/polling/Poller.html" title="class in com.azure.core.util.polling"><code>Poller</code></a>&lt;&gt;(pollInterval, pollOperation);

<em>// Listen to poll responses</em>
myPoller.getObserver().subscribe(pr -&gt; {
    <em>//process poll response</em>
    <code>System</code>.out.println(<em>"Got Response status,value "</em> + pr.getStatus().toString() + <em>" "</em> + pr.getValue());
});
<em>// Do something else</em>

</pre>

 <p><strong>Wait/Block for Polling to complete</strong></p>
 <pre><a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><code>PollResponse</code></a>&lt;<code>String</code>&gt; myFinalResponse = myPoller.block();
<code>System</code>.out.println(<em>"Polling complete final status , value=  "</em>
    + myFinalResponse.getStatus().toString() + <em>","</em> + myFinalResponse.getValue());
</pre>

 <p><strong>Disable auto polling and polling manually</strong></p>
 <pre>myPoller.setAutoPollingEnabled(<b>false</b>);
<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><code>PollResponse</code></a>&lt;<code>String</code>&gt; pollResponse = <b>null</b>;
<em>// We assume that we get SUCCESSFULLY_COMPLETED status from pollOperation when polling is complete.</em>
<b>while</b> (pollResponse != <b>null</b>
    &amp;&amp; pollResponse.getStatus() != <a href="../../../../../com/azure/core/util/polling/PollResponse.OperationStatus.html" title="class in com.azure.core.util.polling"><code>PollResponse.OperationStatus</code></a>.SUCCESSFULLY_COMPLETED) {
    pollResponse = myPoller.poll().block();
    <b>try</b> {
        <em>// Ensure that you have sufficient wait in each poll() which is suitable for your application.</em>
        <code>Thread</code>.sleep(500);
    } <b>catch</b> (<code>InterruptedException</code> e) {
    }
}
<code>System</code>.out.println(<em>"Polling complete with status  "</em> + myPoller.getStatus().toString());
</pre></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><code>PollResponse</code></a>, 
<a href="../../../../../com/azure/core/util/polling/PollResponse.OperationStatus.html" title="class in com.azure.core.util.polling"><code>PollResponse.OperationStatus</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../com/azure/core/util/polling/Poller.html#Poller-java.time.Duration-java.util.function.Function-">Poller</a></span>(java.time.Duration&nbsp;pollInterval,
      java.util.function.Function&lt;<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling">PollResponse</a>&lt;<a href="../../../../../com/azure/core/util/polling/Poller.html" title="type parameter in Poller">T</a>&gt;,reactor.core.publisher.Mono&lt;<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling">PollResponse</a>&lt;<a href="../../../../../com/azure/core/util/polling/Poller.html" title="type parameter in Poller">T</a>&gt;&gt;&gt;&nbsp;pollOperation)</code>
<div class="block">Create a <a href="../../../../../com/azure/core/util/polling/Poller.html" title="class in com.azure.core.util.polling"><code>Poller</code></a> instance with poll interval and poll operation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../com/azure/core/util/polling/Poller.html#Poller-java.time.Duration-java.util.function.Function-java.util.function.Consumer-">Poller</a></span>(java.time.Duration&nbsp;pollInterval,
      java.util.function.Function&lt;<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling">PollResponse</a>&lt;<a href="../../../../../com/azure/core/util/polling/Poller.html" title="type parameter in Poller">T</a>&gt;,reactor.core.publisher.Mono&lt;<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling">PollResponse</a>&lt;<a href="../../../../../com/azure/core/util/polling/Poller.html" title="type parameter in Poller">T</a>&gt;&gt;&gt;&nbsp;pollOperation,
      java.util.function.Consumer&lt;<a href="../../../../../com/azure/core/util/polling/Poller.html" title="class in com.azure.core.util.polling">Poller</a>&lt;<a href="../../../../../com/azure/core/util/polling/Poller.html" title="type parameter in Poller">T</a>&gt;&gt;&nbsp;cancelOperation)</code>
<div class="block">Create a <a href="../../../../../com/azure/core/util/polling/Poller.html" title="class in com.azure.core.util.polling"><code>Poller</code></a> instance with poll interval, poll operation and cancel operation.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling">PollResponse</a>&lt;<a href="../../../../../com/azure/core/util/polling/Poller.html" title="type parameter in Poller">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/azure/core/util/polling/Poller.html#block--">block</a></span>()</code>
<div class="block">Blocks execution and wait for polling to complete.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling">PollResponse</a>&lt;<a href="../../../../../com/azure/core/util/polling/Poller.html" title="type parameter in Poller">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/azure/core/util/polling/Poller.html#blockUntil-com.azure.core.util.polling.PollResponse.OperationStatus-">blockUntil</a></span>(<a href="../../../../../com/azure/core/util/polling/PollResponse.OperationStatus.html" title="class in com.azure.core.util.polling">PollResponse.OperationStatus</a>&nbsp;statusToBlockFor)</code>
<div class="block">Blocks indefinitely until given <a href="../../../../../com/azure/core/util/polling/PollResponse.OperationStatus.html" title="class in com.azure.core.util.polling"><code>PollResponse.OperationStatus</code></a> is received.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling">PollResponse</a>&lt;<a href="../../../../../com/azure/core/util/polling/Poller.html" title="type parameter in Poller">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/azure/core/util/polling/Poller.html#blockUntil-com.azure.core.util.polling.PollResponse.OperationStatus-java.time.Duration-">blockUntil</a></span>(<a href="../../../../../com/azure/core/util/polling/PollResponse.OperationStatus.html" title="class in com.azure.core.util.polling">PollResponse.OperationStatus</a>&nbsp;statusToBlockFor,
          java.time.Duration&nbsp;timeout)</code>
<div class="block">Blocks until given <a href="../../../../../com/azure/core/util/polling/PollResponse.OperationStatus.html" title="class in com.azure.core.util.polling"><code>PollResponse.OperationStatus</code></a> is received or a timeout expires if provided.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/azure/core/util/polling/Poller.html#cancelOperation--">cancelOperation</a></span>()</code>
<div class="block">Attempts to cancel the long-running operation that this <a href="../../../../../com/azure/core/util/polling/Poller.html" title="class in com.azure.core.util.polling"><code>Poller</code></a> represents.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>reactor.core.publisher.Flux&lt;<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling">PollResponse</a>&lt;<a href="../../../../../com/azure/core/util/polling/Poller.html" title="type parameter in Poller">T</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/azure/core/util/polling/Poller.html#getObserver--">getObserver</a></span>()</code>
<div class="block">This method returns a <code>Flux</code> that can be subscribed to, enabling a subscriber to receive notification of
 every <a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><code>PollResponse</code></a>, as it is received.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../../com/azure/core/util/polling/PollResponse.OperationStatus.html" title="class in com.azure.core.util.polling">PollResponse.OperationStatus</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/azure/core/util/polling/Poller.html#getStatus--">getStatus</a></span>()</code>
<div class="block">Current known status as a result of last poll event or last response from a manual polling.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/azure/core/util/polling/Poller.html#isAutoPollingEnabled--">isAutoPollingEnabled</a></span>()</code>
<div class="block">Indicates if auto polling is enabled.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>reactor.core.publisher.Mono&lt;<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling">PollResponse</a>&lt;<a href="../../../../../com/azure/core/util/polling/Poller.html" title="type parameter in Poller">T</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/azure/core/util/polling/Poller.html#poll--">poll</a></span>()</code>
<div class="block">Enable user to take control of polling and trigger manual poll operation.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/azure/core/util/polling/Poller.html#setAutoPollingEnabled-boolean-">setAutoPollingEnabled</a></span>(boolean&nbsp;autoPollingEnabled)</code>
<div class="block">Controls whether auto-polling is enabled or disabled.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Poller-java.time.Duration-java.util.function.Function-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Poller</h4>
<pre>public&nbsp;Poller(java.time.Duration&nbsp;pollInterval,
              java.util.function.Function&lt;<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling">PollResponse</a>&lt;<a href="../../../../../com/azure/core/util/polling/Poller.html" title="type parameter in Poller">T</a>&gt;,reactor.core.publisher.Mono&lt;<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling">PollResponse</a>&lt;<a href="../../../../../com/azure/core/util/polling/Poller.html" title="type parameter in Poller">T</a>&gt;&gt;&gt;&nbsp;pollOperation)</pre>
<div class="block">Create a <a href="../../../../../com/azure/core/util/polling/Poller.html" title="class in com.azure.core.util.polling"><code>Poller</code></a> instance with poll interval and poll operation. The polling starts immediately by invoking <code>pollOperation</code>.
 The next poll cycle will be defined by <code>retryAfter</code> value in <a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><code>PollResponse</code></a>.
 In absence of <code>retryAfter</code>, the <a href="../../../../../com/azure/core/util/polling/Poller.html" title="class in com.azure.core.util.polling"><code>Poller</code></a> will use <code>pollInterval</code>.

 <p><strong>Code Sample - Create poller object</strong></p>
 <pre><em>// Define your custom poll operation</em>
<code>Function</code>&lt;<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><code>PollResponse</code></a>&lt;<code>String</code>&gt;, <code>Mono</code>&lt;<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><code>PollResponse</code></a>&lt;<code>String</code>&gt;&gt;&gt; pollOperation =
    <b>new</b> <code>Function</code>&lt;<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><code>PollResponse</code></a>&lt;<code>String</code>&gt;, <code>Mono</code>&lt;<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><code>PollResponse</code></a>&lt;<code>String</code>&gt;&gt;&gt;() {
        <em>// Will return success after this time.</em>
        <code>LocalDateTime</code> timeToReturnFinalResponse
            = <code>LocalDateTime</code>.now().plus(<code>Duration</code>.ofMillis(800));
        &#064;<code>Override</code>
        <b>public</b> <code>Mono</code>&lt;<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><code>PollResponse</code></a>&lt;<code>String</code>&gt;&gt; apply(<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><code>PollResponse</code></a>&lt;<code>String</code>&gt; prePollResponse) {
            <b>if</b> (<code>LocalDateTime</code>.now().isBefore(timeToReturnFinalResponse)) {
                <code>System</code>.out.println(<em>"returning intermediate response "</em> + inProgressResp.getValue());
                <b>return</b> <code>Mono</code>.just(inProgressResp);
            } <b>else</b> {
                <code>System</code>.out.println(<em>"returning final response "</em> + finalPollResponse.getValue());
                <b>return</b> <code>Mono</code>.just(finalPollResponse);
            }
        }
    };

<em>//Create poller instance</em>
<a href="../../../../../com/azure/core/util/polling/Poller.html" title="class in com.azure.core.util.polling"><code>Poller</code></a>&lt;<code>String</code>&gt; myPoller = <b>new</b> <a href="../../../../../com/azure/core/util/polling/Poller.html" title="class in com.azure.core.util.polling"><code>Poller</code></a>&lt;&gt;(<code>Duration</code>.ofMillis(100), pollOperation);

<em>// Default polling will start transparently.</em>

</pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pollInterval</code> - Not-null and greater than zero poll interval.</dd>
<dd><code>pollOperation</code> - The polling operation to be called by the <a href="../../../../../com/azure/core/util/polling/Poller.html" title="class in com.azure.core.util.polling"><code>Poller</code></a> instance. This is a callback into the client library,
 which must never return <code>null</code>, and which must always have a non-null <a href="../../../../../com/azure/core/util/polling/PollResponse.OperationStatus.html" title="class in com.azure.core.util.polling"><code>PollResponse.OperationStatus</code></a>.
<code>Mono</code> returned from poll operation should never return <code>Mono.error(Throwable)</code>.If any unexpected scenario happens in poll operation,
 it should be handled by client library and return a valid <a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><code>PollResponse</code></a>. However if poll operation returns <code>Mono.error(Throwable)</code>,
 the <a href="../../../../../com/azure/core/util/polling/Poller.html" title="class in com.azure.core.util.polling"><code>Poller</code></a> will disregard that and continue to poll.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if <code>pollInterval</code> is less than or equal to zero and if <code>pollInterval</code> or <code>pollOperation</code> are <code>null</code></dd>
</dl>
</li>
</ul>
<a name="Poller-java.time.Duration-java.util.function.Function-java.util.function.Consumer-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Poller</h4>
<pre>public&nbsp;Poller(java.time.Duration&nbsp;pollInterval,
              java.util.function.Function&lt;<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling">PollResponse</a>&lt;<a href="../../../../../com/azure/core/util/polling/Poller.html" title="type parameter in Poller">T</a>&gt;,reactor.core.publisher.Mono&lt;<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling">PollResponse</a>&lt;<a href="../../../../../com/azure/core/util/polling/Poller.html" title="type parameter in Poller">T</a>&gt;&gt;&gt;&nbsp;pollOperation,
              java.util.function.Consumer&lt;<a href="../../../../../com/azure/core/util/polling/Poller.html" title="class in com.azure.core.util.polling">Poller</a>&lt;<a href="../../../../../com/azure/core/util/polling/Poller.html" title="type parameter in Poller">T</a>&gt;&gt;&nbsp;cancelOperation)</pre>
<div class="block">Create a <a href="../../../../../com/azure/core/util/polling/Poller.html" title="class in com.azure.core.util.polling"><code>Poller</code></a> instance with poll interval, poll operation and cancel operation. The polling starts immediately by invoking <code>pollOperation</code>.
 The next poll cycle will be defined by retryAfter value in <a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><code>PollResponse</code></a>.
 In absence of <a href="../../../../../com/azure/core/util/polling/PollResponse.html#getRetryAfter--"><code>PollResponse.getRetryAfter()</code></a>, the <a href="../../../../../com/azure/core/util/polling/Poller.html" title="class in com.azure.core.util.polling"><code>Poller</code></a> will use <code>pollInterval</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pollInterval</code> - Not-null and greater than zero poll interval.</dd>
<dd><code>pollOperation</code> - The polling operation to be called by the <a href="../../../../../com/azure/core/util/polling/Poller.html" title="class in com.azure.core.util.polling"><code>Poller</code></a> instance. This is a callback into the client library,
 which must never return <code>null</code>, and which must always have a non-null <a href="../../../../../com/azure/core/util/polling/PollResponse.OperationStatus.html" title="class in com.azure.core.util.polling"><code>PollResponse.OperationStatus</code></a>.
<code>Mono</code> returned from poll operation should never return <code>Mono.error(Throwable)</code>.If any unexpected scenario happens in poll operation,
 it should handle it and return a valid <a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><code>PollResponse</code></a>. However if poll operation returns <code>Mono.error(Throwable)</code>,
 the <a href="../../../../../com/azure/core/util/polling/Poller.html" title="class in com.azure.core.util.polling"><code>Poller</code></a> will disregard that and continue to poll.</dd>
<dd><code>cancelOperation</code> - cancel operation if cancellation is supported by the service. It can be <code>null</code> which will indicate to the <a href="../../../../../com/azure/core/util/polling/Poller.html" title="class in com.azure.core.util.polling"><code>Poller</code></a>
 that cancel operation is not supported by Azure service.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if <code>pollInterval</code> is less than or equal to zero and if <code>pollInterval</code> or <code>pollOperation</code> are <code>null</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="cancelOperation--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancelOperation</h4>
<pre>public&nbsp;void&nbsp;cancelOperation()
                     throws java.lang.UnsupportedOperationException</pre>
<div class="block">Attempts to cancel the long-running operation that this <a href="../../../../../com/azure/core/util/polling/Poller.html" title="class in com.azure.core.util.polling"><code>Poller</code></a> represents. This is possible only if the service supports it,
 otherwise an <code>UnsupportedOperationException</code> will be thrown.
 <p>
 It will call cancelOperation if status is <a href="../../../../../com/azure/core/util/polling/PollResponse.OperationStatus.html#IN_PROGRESS"><code>PollResponse.OperationStatus.IN_PROGRESS</code></a> otherwise it does nothing.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.UnsupportedOperationException</code> - when cancel operation is not provided.</dd>
</dl>
</li>
</ul>
<a name="getObserver--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getObserver</h4>
<pre>public&nbsp;reactor.core.publisher.Flux&lt;<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling">PollResponse</a>&lt;<a href="../../../../../com/azure/core/util/polling/Poller.html" title="type parameter in Poller">T</a>&gt;&gt;&nbsp;getObserver()</pre>
<div class="block">This method returns a <code>Flux</code> that can be subscribed to, enabling a subscriber to receive notification of
 every <a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><code>PollResponse</code></a>, as it is received.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A <code>Flux</code> that can be subscribed to receive poll responses as the long-running operation executes.</dd>
</dl>
</li>
</ul>
<a name="poll--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>poll</h4>
<pre>public&nbsp;reactor.core.publisher.Mono&lt;<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling">PollResponse</a>&lt;<a href="../../../../../com/azure/core/util/polling/Poller.html" title="type parameter in Poller">T</a>&gt;&gt;&nbsp;poll()</pre>
<div class="block">Enable user to take control of polling and trigger manual poll operation. It will call poll operation once.
 This will not turn off auto polling.

 <p><strong>Code Samples</strong></p>

 <p><strong>Manual Polling</strong></p>
 <p>
 <pre><em>// Turn off auto polling and this code will take control of polling</em>
myPoller.setAutoPollingEnabled(<b>false</b>);

<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><code>PollResponse</code></a>&lt;<code>String</code>&gt; pollResponse = <b>null</b>;
<b>while</b> (pollResponse == <b>null</b>
    || pollResponse.getStatus() == <a href="../../../../../com/azure/core/util/polling/PollResponse.OperationStatus.html" title="class in com.azure.core.util.polling"><code>PollResponse.OperationStatus</code></a>.IN_PROGRESS
    || pollResponse.getStatus() == <a href="../../../../../com/azure/core/util/polling/PollResponse.OperationStatus.html" title="class in com.azure.core.util.polling"><code>PollResponse.OperationStatus</code></a>.NOT_STARTED) {
    <em>// get one poll Response at a time..</em>
    pollResponse = myPoller.poll().block();
    <code>System</code>.out.println(<em>"Poll response status  "</em> + pollResponse.getStatus().toString());
    <em>// Ensure that you have sufficient wait in each poll() which is suitable for your application.</em>
    <b>try</b> {
        <em>// wait before next poll.</em>
        <code>Thread</code>.sleep(500);
    } <b>catch</b> (<code>InterruptedException</code> e) {
    }
}
<code>System</code>.out.println(<em>"Polling complete with status  "</em> + myPoller.getStatus().toString());
</pre></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a Mono of <a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><code>PollResponse</code></a> This will call poll operation once. The <code>Mono</code> returned here could be subscribed
 for receiving <a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><code>PollResponse</code></a> in async manner.</dd>
</dl>
</li>
</ul>
<a name="block--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>block</h4>
<pre>public&nbsp;<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling">PollResponse</a>&lt;<a href="../../../../../com/azure/core/util/polling/Poller.html" title="type parameter in Poller">T</a>&gt;&nbsp;block()</pre>
<div class="block">Blocks execution and wait for polling to complete. The polling is considered complete based on status defined in <a href="../../../../../com/azure/core/util/polling/PollResponse.OperationStatus.html" title="class in com.azure.core.util.polling"><code>PollResponse.OperationStatus</code></a>.
 <p>It will enable auto-polling if it was disable by user.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>returns final <a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><code>PollResponse</code></a> when polling is complete as defined in <a href="../../../../../com/azure/core/util/polling/PollResponse.OperationStatus.html" title="class in com.azure.core.util.polling"><code>PollResponse.OperationStatus</code></a>.</dd>
</dl>
</li>
</ul>
<a name="blockUntil-com.azure.core.util.polling.PollResponse.OperationStatus-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blockUntil</h4>
<pre>public&nbsp;<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling">PollResponse</a>&lt;<a href="../../../../../com/azure/core/util/polling/Poller.html" title="type parameter in Poller">T</a>&gt;&nbsp;blockUntil(<a href="../../../../../com/azure/core/util/polling/PollResponse.OperationStatus.html" title="class in com.azure.core.util.polling">PollResponse.OperationStatus</a>&nbsp;statusToBlockFor)</pre>
<div class="block">Blocks indefinitely until given <a href="../../../../../com/azure/core/util/polling/PollResponse.OperationStatus.html" title="class in com.azure.core.util.polling"><code>PollResponse.OperationStatus</code></a> is received.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>statusToBlockFor</code> - The desired <a href="../../../../../com/azure/core/util/polling/PollResponse.OperationStatus.html" title="class in com.azure.core.util.polling"><code>PollResponse.OperationStatus</code></a> to block for and it can be any valid <a href="../../../../../com/azure/core/util/polling/PollResponse.OperationStatus.html" title="class in com.azure.core.util.polling"><code>PollResponse.OperationStatus</code></a> value.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><code>PollResponse</code></a> for matching desired status.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - If <code>statusToBlockFor</code> is <code>null</code>.</dd>
</dl>
</li>
</ul>
<a name="blockUntil-com.azure.core.util.polling.PollResponse.OperationStatus-java.time.Duration-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blockUntil</h4>
<pre>public&nbsp;<a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling">PollResponse</a>&lt;<a href="../../../../../com/azure/core/util/polling/Poller.html" title="type parameter in Poller">T</a>&gt;&nbsp;blockUntil(<a href="../../../../../com/azure/core/util/polling/PollResponse.OperationStatus.html" title="class in com.azure.core.util.polling">PollResponse.OperationStatus</a>&nbsp;statusToBlockFor,
                                  java.time.Duration&nbsp;timeout)</pre>
<div class="block">Blocks until given <a href="../../../../../com/azure/core/util/polling/PollResponse.OperationStatus.html" title="class in com.azure.core.util.polling"><code>PollResponse.OperationStatus</code></a> is received or a timeout expires if provided. A <code>null</code> <code>timeout</code> will cause to block indefinitely for desired status.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>statusToBlockFor</code> - The desired <a href="../../../../../com/azure/core/util/polling/PollResponse.OperationStatus.html" title="class in com.azure.core.util.polling"><code>PollResponse.OperationStatus</code></a> to block for and it can be any valid <a href="../../../../../com/azure/core/util/polling/PollResponse.OperationStatus.html" title="class in com.azure.core.util.polling"><code>PollResponse.OperationStatus</code></a> value.</dd>
<dd><code>timeout</code> - The time after which it will stop blocking. A <code>null</code> value will cause to block indefinitely. Zero or negative are not valid values.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><code>PollResponse</code></a> for matching desired status to block for.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if <code>timeout</code> is zero or negative and if <code>statusToBlockFor</code> is <code>null</code>.</dd>
</dl>
</li>
</ul>
<a name="setAutoPollingEnabled-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAutoPollingEnabled</h4>
<pre>public final&nbsp;void&nbsp;setAutoPollingEnabled(boolean&nbsp;autoPollingEnabled)</pre>
<div class="block">Controls whether auto-polling is enabled or disabled. Refer to the <a href="../../../../../com/azure/core/util/polling/Poller.html" title="class in com.azure.core.util.polling"><code>Poller</code></a> class-level JavaDoc for more details on auto-polling.

 <p><strong>Disable auto polling</strong></p>
 <pre>myPoller.setAutoPollingEnabled(<b>false</b>);
<code>System</code>.out.println(<em>"Polling Enabled ?  "</em> + myPoller.isAutoPollingEnabled());
</pre>

 <p><strong>Enable auto polling</strong></p>
 <pre>myPoller.setAutoPollingEnabled(<b>true</b>);
<code>System</code>.out.println(<em>"Polling Enabled ?  "</em> + myPoller.isAutoPollingEnabled());
</pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>autoPollingEnabled</code> - If true, auto-polling will occur transparently in the background, otherwise it requires
                           manual polling by the user to get the latest state.</dd>
</dl>
</li>
</ul>
<a name="isAutoPollingEnabled--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAutoPollingEnabled</h4>
<pre>public&nbsp;boolean&nbsp;isAutoPollingEnabled()</pre>
<div class="block">Indicates if auto polling is enabled. Refer to the <a href="../../../../../com/azure/core/util/polling/Poller.html" title="class in com.azure.core.util.polling"><code>Poller</code></a> class-level JavaDoc for more details on auto-polling.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A boolean value representing if auto-polling is enabled or not..</dd>
</dl>
</li>
</ul>
<a name="getStatus--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getStatus</h4>
<pre>public&nbsp;<a href="../../../../../com/azure/core/util/polling/PollResponse.OperationStatus.html" title="class in com.azure.core.util.polling">PollResponse.OperationStatus</a>&nbsp;getStatus()</pre>
<div class="block">Current known status as a result of last poll event or last response from a manual polling.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>current status or <code>null</code> if no status is available.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Poller.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Visit the <a href="https://docs.microsoft.com/java/azure/">Azure for Java Developers</a>site               for more Java documentation, including quick starts, tutorials, and code samples.</div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../com/azure/core/util/polling/PollResponse.html" title="class in com.azure.core.util.polling"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/azure/core/util/polling/Poller.html" target="_top">Frames</a></li>
<li><a href="Poller.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2019 <a href="http://microsoft.com">Microsoft Corporation</a>. All rights reserved.</small></p>
</body>
</html>
